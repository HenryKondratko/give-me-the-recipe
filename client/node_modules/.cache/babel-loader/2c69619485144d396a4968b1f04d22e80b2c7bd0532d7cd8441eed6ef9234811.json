{"ast":null,"code":"import { decodeXML, decodeHTML, decodeHTMLStrict } from \"./decode.js\";\nimport { encodeHTML, encodeNonAsciiHTML } from \"./encode.js\";\nimport { encodeXML, escapeUTF8, escapeAttribute, escapeText } from \"./escape.js\";\n/** The level of entities to support. */\nexport var EntityLevel;\n(function (EntityLevel) {\n  /** Support only XML entities. */\n  EntityLevel[EntityLevel[\"XML\"] = 0] = \"XML\";\n  /** Support HTML entities, which are a superset of XML entities. */\n  EntityLevel[EntityLevel[\"HTML\"] = 1] = \"HTML\";\n})(EntityLevel || (EntityLevel = {}));\n/** Determines whether some entities are allowed to be written without a trailing `;`. */\nexport var DecodingMode;\n(function (DecodingMode) {\n  /** Support legacy HTML entities. */\n  DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n  /** Do not support legacy HTML entities. */\n  DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n})(DecodingMode || (DecodingMode = {}));\nexport var EncodingMode;\n(function (EncodingMode) {\n  /**\n   * The output is UTF-8 encoded. Only characters that need escaping within\n   * XML will be escaped.\n   */\n  EncodingMode[EncodingMode[\"UTF8\"] = 0] = \"UTF8\";\n  /**\n   * The output consists only of ASCII characters. Characters that need\n   * escaping within HTML, and characters that aren't ASCII characters will\n   * be escaped.\n   */\n  EncodingMode[EncodingMode[\"ASCII\"] = 1] = \"ASCII\";\n  /**\n   * Encode all characters that have an equivalent entity, as well as all\n   * characters that are not ASCII characters.\n   */\n  EncodingMode[EncodingMode[\"Extensive\"] = 2] = \"Extensive\";\n  /**\n   * Encode all characters that have to be escaped in HTML attributes,\n   * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n   */\n  EncodingMode[EncodingMode[\"Attribute\"] = 3] = \"Attribute\";\n  /**\n   * Encode all characters that have to be escaped in HTML text,\n   * following {@link https://html.spec.whatwg.org/multipage/parsing.html#escapingString}.\n   */\n  EncodingMode[EncodingMode[\"Text\"] = 4] = \"Text\";\n})(EncodingMode || (EncodingMode = {}));\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param options Decoding options.\n */\nexport function decode(data) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EntityLevel.XML;\n  const opts = typeof options === \"number\" ? {\n    level: options\n  } : options;\n  if (opts.level === EntityLevel.HTML) {\n    if (opts.mode === DecodingMode.Strict) {\n      return decodeHTMLStrict(data);\n    }\n    return decodeHTML(data);\n  }\n  return decodeXML(data);\n}\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param options Decoding options.\n * @deprecated Use `decode` with the `mode` set to `Strict`.\n */\nexport function decodeStrict(data) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EntityLevel.XML;\n  const opts = typeof options === \"number\" ? {\n    level: options\n  } : options;\n  if (opts.level === EntityLevel.HTML) {\n    if (opts.mode === DecodingMode.Legacy) {\n      return decodeHTML(data);\n    }\n    return decodeHTMLStrict(data);\n  }\n  return decodeXML(data);\n}\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param options Encoding options.\n */\nexport function encode(data) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EntityLevel.XML;\n  const opts = typeof options === \"number\" ? {\n    level: options\n  } : options;\n  // Mode `UTF8` just escapes XML entities\n  if (opts.mode === EncodingMode.UTF8) return escapeUTF8(data);\n  if (opts.mode === EncodingMode.Attribute) return escapeAttribute(data);\n  if (opts.mode === EncodingMode.Text) return escapeText(data);\n  if (opts.level === EntityLevel.HTML) {\n    if (opts.mode === EncodingMode.ASCII) {\n      return encodeNonAsciiHTML(data);\n    }\n    return encodeHTML(data);\n  }\n  // ASCII and Extensive are equivalent\n  return encodeXML(data);\n}\nexport { encodeXML, escape, escapeUTF8, escapeAttribute, escapeText } from \"./escape.js\";\nexport { encodeHTML, encodeNonAsciiHTML,\n// Legacy aliases (deprecated)\nencodeHTML as encodeHTML4, encodeHTML as encodeHTML5 } from \"./encode.js\";\nexport { decodeXML, decodeHTML, decodeHTMLStrict,\n// Legacy aliases (deprecated)\ndecodeHTML as decodeHTML4, decodeHTML as decodeHTML5, decodeHTMLStrict as decodeHTML4Strict, decodeHTMLStrict as decodeHTML5Strict, decodeXML as decodeXMLStrict } from \"./decode.js\";","map":{"version":3,"names":["decodeXML","decodeHTML","decodeHTMLStrict","encodeHTML","encodeNonAsciiHTML","encodeXML","escapeUTF8","escapeAttribute","escapeText","EntityLevel","DecodingMode","EncodingMode","decode","data","options","arguments","length","undefined","XML","opts","level","HTML","mode","Strict","decodeStrict","Legacy","encode","UTF8","Attribute","Text","ASCII","escape","encodeHTML4","encodeHTML5","decodeHTML4","decodeHTML5","decodeHTML4Strict","decodeHTML5Strict","decodeXMLStrict"],"sources":["https://raw.githubusercontent.com/fb55/entities/867ac709ba482a56a98b7c35f49ca833c74dc193/src/index.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}