{"ast":null,"code":"/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar _CDPPage_instances, _CDPPage_closed, _CDPPage_client, _CDPPage_target, _CDPPage_keyboard, _CDPPage_mouse, _CDPPage_timeoutSettings, _CDPPage_touchscreen, _CDPPage_accessibility, _CDPPage_frameManager, _CDPPage_emulationManager, _CDPPage_tracing, _CDPPage_bindings, _CDPPage_coverage, _CDPPage_javascriptEnabled, _CDPPage_viewport, _CDPPage_screenshotTaskQueue, _CDPPage_workers, _CDPPage_fileChooserPromises, _CDPPage_disconnectPromise, _CDPPage_userDragInterceptionEnabled, _CDPPage_onDetachedFromTarget, _CDPPage_onAttachedToTarget, _CDPPage_initialize, _CDPPage_onFileChooser, _CDPPage_onTargetCrashed, _CDPPage_onLogEntryAdded, _CDPPage_emitMetrics, _CDPPage_buildMetricsObject, _CDPPage_handleException, _CDPPage_onConsoleAPI, _CDPPage_onBindingCalled, _CDPPage_addConsoleMessage, _CDPPage_onDialog, _CDPPage_resetDefaultBackgroundColor, _CDPPage_setTransparentBackgroundColor, _CDPPage_sessionClosePromise, _CDPPage_go, _CDPPage_screenshotTask;\nimport { Page } from '../api/Page.js';\nimport { assert } from '../util/assert.js';\nimport { createDeferredPromise } from '../util/DeferredPromise.js';\nimport { isErrorLike } from '../util/ErrorLike.js';\nimport { Accessibility } from './Accessibility.js';\nimport { Binding } from './Binding.js';\nimport { CDPSessionEmittedEvents, isTargetClosedError } from './Connection.js';\nimport { ConsoleMessage } from './ConsoleMessage.js';\nimport { Coverage } from './Coverage.js';\nimport { Dialog } from './Dialog.js';\nimport { EmulationManager } from './EmulationManager.js';\nimport { FileChooser } from './FileChooser.js';\nimport { FrameManager, FrameManagerEmittedEvents } from './FrameManager.js';\nimport { Keyboard, Mouse, Touchscreen } from './Input.js';\nimport { MAIN_WORLD } from './IsolatedWorlds.js';\nimport { NetworkManagerEmittedEvents } from './NetworkManager.js';\nimport { _paperFormats } from './PDFOptions.js';\nimport { TimeoutSettings } from './TimeoutSettings.js';\nimport { Tracing } from './Tracing.js';\nimport { createJSHandle, debugError, evaluationString, getExceptionMessage, getReadableAsBuffer, getReadableFromProtocolStream, importFS, isNumber, isString, pageBindingInitString, releaseObject, valueFromRemoteObject, waitForEvent, waitWithTimeout } from './util.js';\nimport { WebWorker } from './WebWorker.js';\n/**\n * @internal\n */\nexport class CDPPage extends Page {\n  /**\n   * @internal\n   */\n  static async _create(client, target, ignoreHTTPSErrors, defaultViewport, screenshotTaskQueue) {\n    const page = new CDPPage(client, target, ignoreHTTPSErrors, screenshotTaskQueue);\n    await __classPrivateFieldGet(page, _CDPPage_instances, \"m\", _CDPPage_initialize).call(page);\n    if (defaultViewport) {\n      try {\n        await page.setViewport(defaultViewport);\n      } catch (err) {\n        if (isErrorLike(err) && isTargetClosedError(err)) {\n          debugError(err);\n        } else {\n          throw err;\n        }\n      }\n    }\n    return page;\n  }\n  /**\n   * @internal\n   */\n  constructor(client, target, ignoreHTTPSErrors, screenshotTaskQueue) {\n    super();\n    _CDPPage_instances.add(this);\n    _CDPPage_closed.set(this, false);\n    _CDPPage_client.set(this, void 0);\n    _CDPPage_target.set(this, void 0);\n    _CDPPage_keyboard.set(this, void 0);\n    _CDPPage_mouse.set(this, void 0);\n    _CDPPage_timeoutSettings.set(this, new TimeoutSettings());\n    _CDPPage_touchscreen.set(this, void 0);\n    _CDPPage_accessibility.set(this, void 0);\n    _CDPPage_frameManager.set(this, void 0);\n    _CDPPage_emulationManager.set(this, void 0);\n    _CDPPage_tracing.set(this, void 0);\n    _CDPPage_bindings.set(this, new Map());\n    _CDPPage_coverage.set(this, void 0);\n    _CDPPage_javascriptEnabled.set(this, true);\n    _CDPPage_viewport.set(this, void 0);\n    _CDPPage_screenshotTaskQueue.set(this, void 0);\n    _CDPPage_workers.set(this, new Map());\n    _CDPPage_fileChooserPromises.set(this, new Set());\n    _CDPPage_disconnectPromise.set(this, void 0);\n    _CDPPage_userDragInterceptionEnabled.set(this, false);\n    _CDPPage_onDetachedFromTarget.set(this, target => {\n      var _a;\n      const sessionId = (_a = target._session()) === null || _a === void 0 ? void 0 : _a.id();\n      const worker = __classPrivateFieldGet(this, _CDPPage_workers, \"f\").get(sessionId);\n      if (!worker) {\n        return;\n      }\n      __classPrivateFieldGet(this, _CDPPage_workers, \"f\").delete(sessionId);\n      this.emit(\"workerdestroyed\" /* PageEmittedEvents.WorkerDestroyed */, worker);\n    });\n    _CDPPage_onAttachedToTarget.set(this, createdTarget => {\n      __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").onAttachedToTarget(createdTarget);\n      if (createdTarget._getTargetInfo().type === 'worker') {\n        const session = createdTarget._session();\n        assert(session);\n        const worker = new WebWorker(session, createdTarget.url(), __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_addConsoleMessage).bind(this), __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_handleException).bind(this));\n        __classPrivateFieldGet(this, _CDPPage_workers, \"f\").set(session.id(), worker);\n        this.emit(\"workercreated\" /* PageEmittedEvents.WorkerCreated */, worker);\n      }\n      if (createdTarget._session()) {\n        __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().addTargetInterceptor(createdTarget._session(), __classPrivateFieldGet(this, _CDPPage_onAttachedToTarget, \"f\"));\n      }\n    });\n    __classPrivateFieldSet(this, _CDPPage_client, client, \"f\");\n    __classPrivateFieldSet(this, _CDPPage_target, target, \"f\");\n    __classPrivateFieldSet(this, _CDPPage_keyboard, new Keyboard(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_mouse, new Mouse(client, __classPrivateFieldGet(this, _CDPPage_keyboard, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_touchscreen, new Touchscreen(client, __classPrivateFieldGet(this, _CDPPage_keyboard, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_accessibility, new Accessibility(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_frameManager, new FrameManager(client, this, ignoreHTTPSErrors, __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_emulationManager, new EmulationManager(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_tracing, new Tracing(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_coverage, new Coverage(client), \"f\");\n    __classPrivateFieldSet(this, _CDPPage_screenshotTaskQueue, screenshotTaskQueue, \"f\");\n    __classPrivateFieldSet(this, _CDPPage_viewport, null, \"f\");\n    __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().addTargetInterceptor(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), __classPrivateFieldGet(this, _CDPPage_onAttachedToTarget, \"f\"));\n    __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().on(\"targetGone\" /* TargetManagerEmittedEvents.TargetGone */, __classPrivateFieldGet(this, _CDPPage_onDetachedFromTarget, \"f\"));\n    __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").on(FrameManagerEmittedEvents.FrameAttached, event => {\n      return this.emit(\"frameattached\" /* PageEmittedEvents.FrameAttached */, event);\n    });\n    __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").on(FrameManagerEmittedEvents.FrameDetached, event => {\n      return this.emit(\"framedetached\" /* PageEmittedEvents.FrameDetached */, event);\n    });\n    __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").on(FrameManagerEmittedEvents.FrameNavigated, event => {\n      return this.emit(\"framenavigated\" /* PageEmittedEvents.FrameNavigated */, event);\n    });\n    const networkManager = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager;\n    networkManager.on(NetworkManagerEmittedEvents.Request, event => {\n      return this.emit(\"request\" /* PageEmittedEvents.Request */, event);\n    });\n    networkManager.on(NetworkManagerEmittedEvents.RequestServedFromCache, event => {\n      return this.emit(\"requestservedfromcache\" /* PageEmittedEvents.RequestServedFromCache */, event);\n    });\n    networkManager.on(NetworkManagerEmittedEvents.Response, event => {\n      return this.emit(\"response\" /* PageEmittedEvents.Response */, event);\n    });\n    networkManager.on(NetworkManagerEmittedEvents.RequestFailed, event => {\n      return this.emit(\"requestfailed\" /* PageEmittedEvents.RequestFailed */, event);\n    });\n    networkManager.on(NetworkManagerEmittedEvents.RequestFinished, event => {\n      return this.emit(\"requestfinished\" /* PageEmittedEvents.RequestFinished */, event);\n    });\n    client.on('Page.domContentEventFired', () => {\n      return this.emit(\"domcontentloaded\" /* PageEmittedEvents.DOMContentLoaded */);\n    });\n\n    client.on('Page.loadEventFired', () => {\n      return this.emit(\"load\" /* PageEmittedEvents.Load */);\n    });\n\n    client.on('Runtime.consoleAPICalled', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onConsoleAPI).call(this, event);\n    });\n    client.on('Runtime.bindingCalled', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onBindingCalled).call(this, event);\n    });\n    client.on('Page.javascriptDialogOpening', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onDialog).call(this, event);\n    });\n    client.on('Runtime.exceptionThrown', exception => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_handleException).call(this, exception.exceptionDetails);\n    });\n    client.on('Inspector.targetCrashed', () => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onTargetCrashed).call(this);\n    });\n    client.on('Performance.metrics', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_emitMetrics).call(this, event);\n    });\n    client.on('Log.entryAdded', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onLogEntryAdded).call(this, event);\n    });\n    client.on('Page.fileChooserOpened', event => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_onFileChooser).call(this, event);\n    });\n    __classPrivateFieldGet(this, _CDPPage_target, \"f\")._isClosedPromise.then(() => {\n      __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().removeTargetInterceptor(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), __classPrivateFieldGet(this, _CDPPage_onAttachedToTarget, \"f\"));\n      __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetManager().off(\"targetGone\" /* TargetManagerEmittedEvents.TargetGone */, __classPrivateFieldGet(this, _CDPPage_onDetachedFromTarget, \"f\"));\n      this.emit(\"close\" /* PageEmittedEvents.Close */);\n      __classPrivateFieldSet(this, _CDPPage_closed, true, \"f\");\n    });\n  }\n  /**\n   * @internal\n   */\n  _client() {\n    return __classPrivateFieldGet(this, _CDPPage_client, \"f\");\n  }\n  isDragInterceptionEnabled() {\n    return __classPrivateFieldGet(this, _CDPPage_userDragInterceptionEnabled, \"f\");\n  }\n  isJavaScriptEnabled() {\n    return __classPrivateFieldGet(this, _CDPPage_javascriptEnabled, \"f\");\n  }\n  waitForFileChooser() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const needsEnable = __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").size === 0;\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    const promise = createDeferredPromise({\n      message: `Waiting for \\`FileChooser\\` failed: ${timeout}ms exceeded`,\n      timeout\n    });\n    __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").add(promise);\n    let enablePromise;\n    if (needsEnable) {\n      enablePromise = __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.setInterceptFileChooserDialog', {\n        enabled: true\n      });\n    }\n    return Promise.all([promise, enablePromise]).then(_ref => {\n      let [result] = _ref;\n      return result;\n    }).catch(error => {\n      __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").delete(promise);\n      throw error;\n    });\n  }\n  async setGeolocation(options) {\n    const {\n      longitude,\n      latitude,\n      accuracy = 0\n    } = options;\n    if (longitude < -180 || longitude > 180) {\n      throw new Error(`Invalid longitude \"${longitude}\": precondition -180 <= LONGITUDE <= 180 failed.`);\n    }\n    if (latitude < -90 || latitude > 90) {\n      throw new Error(`Invalid latitude \"${latitude}\": precondition -90 <= LATITUDE <= 90 failed.`);\n    }\n    if (accuracy < 0) {\n      throw new Error(`Invalid accuracy \"${accuracy}\": precondition 0 <= ACCURACY failed.`);\n    }\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setGeolocationOverride', {\n      longitude,\n      latitude,\n      accuracy\n    });\n  }\n  target() {\n    return __classPrivateFieldGet(this, _CDPPage_target, \"f\");\n  }\n  browser() {\n    return __classPrivateFieldGet(this, _CDPPage_target, \"f\").browser();\n  }\n  browserContext() {\n    return __classPrivateFieldGet(this, _CDPPage_target, \"f\").browserContext();\n  }\n  mainFrame() {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame();\n  }\n  get keyboard() {\n    return __classPrivateFieldGet(this, _CDPPage_keyboard, \"f\");\n  }\n  get touchscreen() {\n    return __classPrivateFieldGet(this, _CDPPage_touchscreen, \"f\");\n  }\n  get coverage() {\n    return __classPrivateFieldGet(this, _CDPPage_coverage, \"f\");\n  }\n  get tracing() {\n    return __classPrivateFieldGet(this, _CDPPage_tracing, \"f\");\n  }\n  get accessibility() {\n    return __classPrivateFieldGet(this, _CDPPage_accessibility, \"f\");\n  }\n  frames() {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").frames();\n  }\n  workers() {\n    return Array.from(__classPrivateFieldGet(this, _CDPPage_workers, \"f\").values());\n  }\n  async setRequestInterception(value) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setRequestInterception(value);\n  }\n  async setDragInterception(enabled) {\n    __classPrivateFieldSet(this, _CDPPage_userDragInterceptionEnabled, enabled, \"f\");\n    return __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Input.setInterceptDrags', {\n      enabled\n    });\n  }\n  setOfflineMode(enabled) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setOfflineMode(enabled);\n  }\n  emulateNetworkConditions(networkConditions) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.emulateNetworkConditions(networkConditions);\n  }\n  setDefaultNavigationTimeout(timeout) {\n    __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").setDefaultNavigationTimeout(timeout);\n  }\n  setDefaultTimeout(timeout) {\n    __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").setDefaultTimeout(timeout);\n  }\n  getDefaultTimeout() {\n    return __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout();\n  }\n  async $(selector) {\n    return this.mainFrame().$(selector);\n  }\n  async $$(selector) {\n    return this.mainFrame().$$(selector);\n  }\n  async evaluateHandle(pageFunction) {\n    const context = await this.mainFrame().executionContext();\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return context.evaluateHandle(pageFunction, ...args);\n  }\n  async queryObjects(prototypeHandle) {\n    const context = await this.mainFrame().executionContext();\n    assert(!prototypeHandle.disposed, 'Prototype JSHandle is disposed!');\n    assert(prototypeHandle.id, 'Prototype JSHandle must not be referencing primitive value');\n    const response = await context._client.send('Runtime.queryObjects', {\n      prototypeObjectId: prototypeHandle.id\n    });\n    return createJSHandle(context, response.objects);\n  }\n  async $eval(selector, pageFunction) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n      args[_key2 - 2] = arguments[_key2];\n    }\n    return this.mainFrame().$eval(selector, pageFunction, ...args);\n  }\n  async $$eval(selector, pageFunction) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n      args[_key3 - 2] = arguments[_key3];\n    }\n    return this.mainFrame().$$eval(selector, pageFunction, ...args);\n  }\n  async $x(expression) {\n    return this.mainFrame().$x(expression);\n  }\n  async cookies() {\n    for (var _len4 = arguments.length, urls = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      urls[_key4] = arguments[_key4];\n    }\n    const originalCookies = (await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Network.getCookies', {\n      urls: urls.length ? urls : [this.url()]\n    })).cookies;\n    const unsupportedCookieAttributes = ['priority'];\n    const filterUnsupportedAttributes = cookie => {\n      for (const attr of unsupportedCookieAttributes) {\n        delete cookie[attr];\n      }\n      return cookie;\n    };\n    return originalCookies.map(filterUnsupportedAttributes);\n  }\n  async deleteCookie() {\n    const pageURL = this.url();\n    for (var _len5 = arguments.length, cookies = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      cookies[_key5] = arguments[_key5];\n    }\n    for (const cookie of cookies) {\n      const item = Object.assign({}, cookie);\n      if (!cookie.url && pageURL.startsWith('http')) {\n        item.url = pageURL;\n      }\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Network.deleteCookies', item);\n    }\n  }\n  async setCookie() {\n    const pageURL = this.url();\n    const startsWithHTTP = pageURL.startsWith('http');\n    for (var _len6 = arguments.length, cookies = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      cookies[_key6] = arguments[_key6];\n    }\n    const items = cookies.map(cookie => {\n      const item = Object.assign({}, cookie);\n      if (!item.url && startsWithHTTP) {\n        item.url = pageURL;\n      }\n      assert(item.url !== 'about:blank', `Blank page can not have cookie \"${item.name}\"`);\n      assert(!String.prototype.startsWith.call(item.url || '', 'data:'), `Data URL page can not have cookie \"${item.name}\"`);\n      return item;\n    });\n    await this.deleteCookie(...items);\n    if (items.length) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Network.setCookies', {\n        cookies: items\n      });\n    }\n  }\n  async addScriptTag(options) {\n    return this.mainFrame().addScriptTag(options);\n  }\n  async addStyleTag(options) {\n    return this.mainFrame().addStyleTag(options);\n  }\n  async exposeFunction(name, pptrFunction) {\n    if (__classPrivateFieldGet(this, _CDPPage_bindings, \"f\").has(name)) {\n      throw new Error(`Failed to add page binding with name ${name}: window['${name}'] already exists!`);\n    }\n    let binding;\n    switch (typeof pptrFunction) {\n      case 'function':\n        binding = new Binding(name, pptrFunction);\n        break;\n      default:\n        binding = new Binding(name, pptrFunction.default);\n        break;\n    }\n    __classPrivateFieldGet(this, _CDPPage_bindings, \"f\").set(name, binding);\n    const expression = pageBindingInitString('exposedFun', name);\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Runtime.addBinding', {\n      name: name\n    });\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.addScriptToEvaluateOnNewDocument', {\n      source: expression\n    });\n    await Promise.all(this.frames().map(frame => {\n      return frame.evaluate(expression).catch(debugError);\n    }));\n  }\n  async authenticate(credentials) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.authenticate(credentials);\n  }\n  async setExtraHTTPHeaders(headers) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setExtraHTTPHeaders(headers);\n  }\n  async setUserAgent(userAgent, userAgentMetadata) {\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setUserAgent(userAgent, userAgentMetadata);\n  }\n  async metrics() {\n    const response = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Performance.getMetrics');\n    return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_buildMetricsObject).call(this, response.metrics);\n  }\n  url() {\n    return this.mainFrame().url();\n  }\n  async content() {\n    return await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().content();\n  }\n  async setContent(html) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().setContent(html, options);\n  }\n  async goto(url) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().goto(url, options);\n  }\n  async reload(options) {\n    const result = await Promise.all([this.waitForNavigation(options), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.reload')]);\n    return result[0];\n  }\n  async waitForNavigation() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().waitForNavigation(options);\n  }\n  async waitForRequest(urlOrPredicate) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    return waitForEvent(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager, NetworkManagerEmittedEvents.Request, async request => {\n      if (isString(urlOrPredicate)) {\n        return urlOrPredicate === request.url();\n      }\n      if (typeof urlOrPredicate === 'function') {\n        return !!(await urlOrPredicate(request));\n      }\n      return false;\n    }, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this));\n  }\n  async waitForResponse(urlOrPredicate) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    return waitForEvent(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager, NetworkManagerEmittedEvents.Response, async response => {\n      if (isString(urlOrPredicate)) {\n        return urlOrPredicate === response.url();\n      }\n      if (typeof urlOrPredicate === 'function') {\n        return !!(await urlOrPredicate(response));\n      }\n      return false;\n    }, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this));\n  }\n  async waitForNetworkIdle() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      idleTime = 500,\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    const networkManager = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager;\n    const idlePromise = createDeferredPromise();\n    let abortRejectCallback;\n    const abortPromise = new Promise((_, reject) => {\n      abortRejectCallback = reject;\n    });\n    let idleTimer;\n    const cleanup = () => {\n      idleTimer && clearTimeout(idleTimer);\n      abortRejectCallback(new Error('abort'));\n    };\n    const evaluate = () => {\n      idleTimer && clearTimeout(idleTimer);\n      if (networkManager.numRequestsInProgress() === 0) {\n        idleTimer = setTimeout(idlePromise.resolve, idleTime);\n      }\n    };\n    evaluate();\n    const eventHandler = () => {\n      evaluate();\n      return false;\n    };\n    const listenToEvent = event => {\n      return waitForEvent(networkManager, event, eventHandler, timeout, abortPromise);\n    };\n    const eventPromises = [listenToEvent(NetworkManagerEmittedEvents.Request), listenToEvent(NetworkManagerEmittedEvents.Response), listenToEvent(NetworkManagerEmittedEvents.RequestFailed)];\n    await Promise.race([idlePromise, ...eventPromises, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this)]).then(r => {\n      cleanup();\n      return r;\n    }, error => {\n      cleanup();\n      throw error;\n    });\n  }\n  async waitForFrame(urlOrPredicate) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const {\n      timeout = __classPrivateFieldGet(this, _CDPPage_timeoutSettings, \"f\").timeout()\n    } = options;\n    let predicate;\n    if (isString(urlOrPredicate)) {\n      predicate = frame => {\n        return Promise.resolve(urlOrPredicate === frame.url());\n      };\n    } else {\n      predicate = frame => {\n        const value = urlOrPredicate(frame);\n        if (typeof value === 'boolean') {\n          return Promise.resolve(value);\n        }\n        return value;\n      };\n    }\n    const eventRace = Promise.race([waitForEvent(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\"), FrameManagerEmittedEvents.FrameAttached, predicate, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this)), waitForEvent(__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\"), FrameManagerEmittedEvents.FrameNavigated, predicate, timeout, __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_sessionClosePromise).call(this)), ...this.frames().map(async frame => {\n      if (await predicate(frame)) {\n        return frame;\n      }\n      return await eventRace;\n    })]);\n    return eventRace;\n  }\n  async goBack() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_go).call(this, -1, options);\n  }\n  async goForward() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_go).call(this, +1, options);\n  }\n  async bringToFront() {\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.bringToFront');\n  }\n  async setJavaScriptEnabled(enabled) {\n    if (__classPrivateFieldGet(this, _CDPPage_javascriptEnabled, \"f\") === enabled) {\n      return;\n    }\n    __classPrivateFieldSet(this, _CDPPage_javascriptEnabled, enabled, \"f\");\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setScriptExecutionDisabled', {\n      value: !enabled\n    });\n  }\n  async setBypassCSP(enabled) {\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.setBypassCSP', {\n      enabled\n    });\n  }\n  async emulateMediaType(type) {\n    assert(type === 'screen' || type === 'print' || (type !== null && type !== void 0 ? type : undefined) === undefined, 'Unsupported media type: ' + type);\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedMedia', {\n      media: type || ''\n    });\n  }\n  async emulateCPUThrottling(factor) {\n    assert(factor === null || factor >= 1, 'Throttling rate should be greater or equal to 1');\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setCPUThrottlingRate', {\n      rate: factor !== null ? factor : 1\n    });\n  }\n  async emulateMediaFeatures(features) {\n    if (!features) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedMedia', {});\n    }\n    if (Array.isArray(features)) {\n      for (const mediaFeature of features) {\n        const name = mediaFeature.name;\n        assert(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(name), 'Unsupported media feature: ' + name);\n      }\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedMedia', {\n        features: features\n      });\n    }\n  }\n  async emulateTimezone(timezoneId) {\n    try {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setTimezoneOverride', {\n        timezoneId: timezoneId || ''\n      });\n    } catch (error) {\n      if (isErrorLike(error) && error.message.includes('Invalid timezone')) {\n        throw new Error(`Invalid timezone ID: ${timezoneId}`);\n      }\n      throw error;\n    }\n  }\n  async emulateIdleState(overrides) {\n    if (overrides) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setIdleOverride', {\n        isUserActive: overrides.isUserActive,\n        isScreenUnlocked: overrides.isScreenUnlocked\n      });\n    } else {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.clearIdleOverride');\n    }\n  }\n  async emulateVisionDeficiency(type) {\n    const visionDeficiencies = new Set(['none', 'achromatopsia', 'blurredVision', 'deuteranopia', 'protanopia', 'tritanopia']);\n    try {\n      assert(!type || visionDeficiencies.has(type), `Unsupported vision deficiency: ${type}`);\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setEmulatedVisionDeficiency', {\n        type: type || 'none'\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n  async setViewport(viewport) {\n    const needsReload = await __classPrivateFieldGet(this, _CDPPage_emulationManager, \"f\").emulateViewport(viewport);\n    __classPrivateFieldSet(this, _CDPPage_viewport, viewport, \"f\");\n    if (needsReload) {\n      await this.reload();\n    }\n  }\n  viewport() {\n    return __classPrivateFieldGet(this, _CDPPage_viewport, \"f\");\n  }\n  async evaluate(pageFunction) {\n    for (var _len7 = arguments.length, args = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {\n      args[_key7 - 1] = arguments[_key7];\n    }\n    return __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").mainFrame().evaluate(pageFunction, ...args);\n  }\n  async evaluateOnNewDocument(pageFunction) {\n    for (var _len8 = arguments.length, args = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {\n      args[_key8 - 1] = arguments[_key8];\n    }\n    const source = evaluationString(pageFunction, ...args);\n    await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.addScriptToEvaluateOnNewDocument', {\n      source\n    });\n  }\n  async setCacheEnabled() {\n    let enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    await __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").networkManager.setCacheEnabled(enabled);\n  }\n  async screenshot() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let screenshotType = \"png\" /* Protocol.Page.CaptureScreenshotRequestFormat.Png */;\n    // options.type takes precedence over inferring the type from options.path\n    // because it may be a 0-length file with no extension created beforehand\n    // (i.e. as a temp file).\n    if (options.type) {\n      screenshotType = options.type;\n    } else if (options.path) {\n      const filePath = options.path;\n      const extension = filePath.slice(filePath.lastIndexOf('.') + 1).toLowerCase();\n      switch (extension) {\n        case 'png':\n          screenshotType = \"png\" /* Protocol.Page.CaptureScreenshotRequestFormat.Png */;\n          break;\n        case 'jpeg':\n        case 'jpg':\n          screenshotType = \"jpeg\" /* Protocol.Page.CaptureScreenshotRequestFormat.Jpeg */;\n          break;\n        case 'webp':\n          screenshotType = \"webp\" /* Protocol.Page.CaptureScreenshotRequestFormat.Webp */;\n          break;\n        default:\n          throw new Error(`Unsupported screenshot type for extension \\`.${extension}\\``);\n      }\n    }\n    if (options.quality) {\n      assert(screenshotType === \"jpeg\" /* Protocol.Page.CaptureScreenshotRequestFormat.Jpeg */ || screenshotType === \"webp\" /* Protocol.Page.CaptureScreenshotRequestFormat.Webp */, 'options.quality is unsupported for the ' + screenshotType + ' screenshots');\n      assert(typeof options.quality === 'number', 'Expected options.quality to be a number but found ' + typeof options.quality);\n      assert(Number.isInteger(options.quality), 'Expected options.quality to be an integer');\n      assert(options.quality >= 0 && options.quality <= 100, 'Expected options.quality to be between 0 and 100 (inclusive), got ' + options.quality);\n    }\n    assert(!options.clip || !options.fullPage, 'options.clip and options.fullPage are exclusive');\n    if (options.clip) {\n      assert(typeof options.clip.x === 'number', 'Expected options.clip.x to be a number but found ' + typeof options.clip.x);\n      assert(typeof options.clip.y === 'number', 'Expected options.clip.y to be a number but found ' + typeof options.clip.y);\n      assert(typeof options.clip.width === 'number', 'Expected options.clip.width to be a number but found ' + typeof options.clip.width);\n      assert(typeof options.clip.height === 'number', 'Expected options.clip.height to be a number but found ' + typeof options.clip.height);\n      assert(options.clip.width !== 0, 'Expected options.clip.width not to be 0.');\n      assert(options.clip.height !== 0, 'Expected options.clip.height not to be 0.');\n    }\n    return __classPrivateFieldGet(this, _CDPPage_screenshotTaskQueue, \"f\").postTask(() => {\n      return __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_screenshotTask).call(this, screenshotType, options);\n    });\n  }\n  async createPDFStream() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      scale = 1,\n      displayHeaderFooter = false,\n      headerTemplate = '',\n      footerTemplate = '',\n      printBackground = false,\n      landscape = false,\n      pageRanges = '',\n      preferCSSPageSize = false,\n      margin = {},\n      omitBackground = false,\n      timeout = 30000\n    } = options;\n    let paperWidth = 8.5;\n    let paperHeight = 11;\n    if (options.format) {\n      const format = _paperFormats[options.format.toLowerCase()];\n      assert(format, 'Unknown paper format: ' + options.format);\n      paperWidth = format.width;\n      paperHeight = format.height;\n    } else {\n      paperWidth = convertPrintParameterToInches(options.width) || paperWidth;\n      paperHeight = convertPrintParameterToInches(options.height) || paperHeight;\n    }\n    const marginTop = convertPrintParameterToInches(margin.top) || 0;\n    const marginLeft = convertPrintParameterToInches(margin.left) || 0;\n    const marginBottom = convertPrintParameterToInches(margin.bottom) || 0;\n    const marginRight = convertPrintParameterToInches(margin.right) || 0;\n    if (omitBackground) {\n      await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_setTransparentBackgroundColor).call(this);\n    }\n    const printCommandPromise = __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.printToPDF', {\n      transferMode: 'ReturnAsStream',\n      landscape,\n      displayHeaderFooter,\n      headerTemplate,\n      footerTemplate,\n      printBackground,\n      scale,\n      paperWidth,\n      paperHeight,\n      marginTop,\n      marginBottom,\n      marginLeft,\n      marginRight,\n      pageRanges,\n      preferCSSPageSize\n    });\n    const result = await waitWithTimeout(printCommandPromise, 'Page.printToPDF', timeout);\n    if (omitBackground) {\n      await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_resetDefaultBackgroundColor).call(this);\n    }\n    assert(result.stream, '`stream` is missing from `Page.printToPDF');\n    return getReadableFromProtocolStream(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), result.stream);\n  }\n  async pdf() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      path = undefined\n    } = options;\n    const readable = await this.createPDFStream(options);\n    const buffer = await getReadableAsBuffer(readable, path);\n    assert(buffer, 'Could not create buffer');\n    return buffer;\n  }\n  async title() {\n    return this.mainFrame().title();\n  }\n  async close() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      runBeforeUnload: undefined\n    };\n    const connection = __classPrivateFieldGet(this, _CDPPage_client, \"f\").connection();\n    assert(connection, 'Protocol error: Connection closed. Most likely the page has been closed.');\n    const runBeforeUnload = !!options.runBeforeUnload;\n    if (runBeforeUnload) {\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.close');\n    } else {\n      await connection.send('Target.closeTarget', {\n        targetId: __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetId\n      });\n      await __classPrivateFieldGet(this, _CDPPage_target, \"f\")._isClosedPromise;\n    }\n  }\n  isClosed() {\n    return __classPrivateFieldGet(this, _CDPPage_closed, \"f\");\n  }\n  get mouse() {\n    return __classPrivateFieldGet(this, _CDPPage_mouse, \"f\");\n  }\n  click(selector) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.mainFrame().click(selector, options);\n  }\n  focus(selector) {\n    return this.mainFrame().focus(selector);\n  }\n  hover(selector) {\n    return this.mainFrame().hover(selector);\n  }\n  select(selector) {\n    for (var _len9 = arguments.length, values = new Array(_len9 > 1 ? _len9 - 1 : 0), _key9 = 1; _key9 < _len9; _key9++) {\n      values[_key9 - 1] = arguments[_key9];\n    }\n    return this.mainFrame().select(selector, ...values);\n  }\n  tap(selector) {\n    return this.mainFrame().tap(selector);\n  }\n  type(selector, text, options) {\n    return this.mainFrame().type(selector, text, options);\n  }\n  waitForTimeout(milliseconds) {\n    return this.mainFrame().waitForTimeout(milliseconds);\n  }\n  async waitForSelector(selector) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return await this.mainFrame().waitForSelector(selector, options);\n  }\n  waitForXPath(xpath) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return this.mainFrame().waitForXPath(xpath, options);\n  }\n  waitForFunction(pageFunction) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    for (var _len10 = arguments.length, args = new Array(_len10 > 2 ? _len10 - 2 : 0), _key10 = 2; _key10 < _len10; _key10++) {\n      args[_key10 - 2] = arguments[_key10];\n    }\n    return this.mainFrame().waitForFunction(pageFunction, options, ...args);\n  }\n  /**\n   * This method is typically coupled with an action that triggers a device\n   * request from an api such as WebBluetooth.\n   *\n   * :::caution\n   *\n   * This must be called before the device request is made. It will not return a\n   * currently active device prompt.\n   *\n   * :::\n   *\n   * @example\n   *\n   * ```ts\n   * const [devicePrompt] = Promise.all([\n   *   page.waitForDevicePrompt(),\n   *   page.click('#connect-bluetooth'),\n   * ]);\n   * await devicePrompt.select(\n   *   await devicePrompt.waitForDevice(({name}) => name.includes('My Device'))\n   * );\n   * ```\n   */\n  waitForDevicePrompt() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return this.mainFrame().waitForDevicePrompt(options);\n  }\n}\n_CDPPage_closed = new WeakMap(), _CDPPage_client = new WeakMap(), _CDPPage_target = new WeakMap(), _CDPPage_keyboard = new WeakMap(), _CDPPage_mouse = new WeakMap(), _CDPPage_timeoutSettings = new WeakMap(), _CDPPage_touchscreen = new WeakMap(), _CDPPage_accessibility = new WeakMap(), _CDPPage_frameManager = new WeakMap(), _CDPPage_emulationManager = new WeakMap(), _CDPPage_tracing = new WeakMap(), _CDPPage_bindings = new WeakMap(), _CDPPage_coverage = new WeakMap(), _CDPPage_javascriptEnabled = new WeakMap(), _CDPPage_viewport = new WeakMap(), _CDPPage_screenshotTaskQueue = new WeakMap(), _CDPPage_workers = new WeakMap(), _CDPPage_fileChooserPromises = new WeakMap(), _CDPPage_disconnectPromise = new WeakMap(), _CDPPage_userDragInterceptionEnabled = new WeakMap(), _CDPPage_onDetachedFromTarget = new WeakMap(), _CDPPage_onAttachedToTarget = new WeakMap(), _CDPPage_instances = new WeakSet(), _CDPPage_initialize = async function _CDPPage_initialize() {\n  try {\n    await Promise.all([__classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").initialize(), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Performance.enable'), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Log.enable')]);\n  } catch (err) {\n    if (isErrorLike(err) && isTargetClosedError(err)) {\n      debugError(err);\n    } else {\n      throw err;\n    }\n  }\n}, _CDPPage_onFileChooser = async function _CDPPage_onFileChooser(event) {\n  if (!__classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").size) {\n    return;\n  }\n  const frame = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").frame(event.frameId);\n  assert(frame, 'This should never happen.');\n  // This is guaranteed to be an HTMLInputElement handle by the event.\n  const handle = await frame.worlds[MAIN_WORLD].adoptBackendNode(event.backendNodeId);\n  const fileChooser = new FileChooser(handle, event);\n  for (const promise of __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\")) {\n    promise.resolve(fileChooser);\n  }\n  __classPrivateFieldGet(this, _CDPPage_fileChooserPromises, \"f\").clear();\n}, _CDPPage_onTargetCrashed = function _CDPPage_onTargetCrashed() {\n  this.emit('error', new Error('Page crashed!'));\n}, _CDPPage_onLogEntryAdded = function _CDPPage_onLogEntryAdded(event) {\n  const {\n    level,\n    text,\n    args,\n    source,\n    url,\n    lineNumber\n  } = event.entry;\n  if (args) {\n    args.map(arg => {\n      return releaseObject(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), arg);\n    });\n  }\n  if (source !== 'worker') {\n    this.emit(\"console\" /* PageEmittedEvents.Console */, new ConsoleMessage(level, text, [], [{\n      url,\n      lineNumber\n    }]));\n  }\n}, _CDPPage_emitMetrics = function _CDPPage_emitMetrics(event) {\n  this.emit(\"metrics\" /* PageEmittedEvents.Metrics */, {\n    title: event.title,\n    metrics: __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_buildMetricsObject).call(this, event.metrics)\n  });\n}, _CDPPage_buildMetricsObject = function _CDPPage_buildMetricsObject(metrics) {\n  const result = {};\n  for (const metric of metrics || []) {\n    if (supportedMetrics.has(metric.name)) {\n      result[metric.name] = metric.value;\n    }\n  }\n  return result;\n}, _CDPPage_handleException = function _CDPPage_handleException(exceptionDetails) {\n  const message = getExceptionMessage(exceptionDetails);\n  const err = new Error(message);\n  err.stack = ''; // Don't report clientside error with a node stack attached\n  this.emit(\"pageerror\" /* PageEmittedEvents.PageError */, err);\n}, _CDPPage_onConsoleAPI = async function _CDPPage_onConsoleAPI(event) {\n  if (event.executionContextId === 0) {\n    // DevTools protocol stores the last 1000 console messages. These\n    // messages are always reported even for removed execution contexts. In\n    // this case, they are marked with executionContextId = 0 and are\n    // reported upon enabling Runtime agent.\n    //\n    // Ignore these messages since:\n    // - there's no execution context we can use to operate with message\n    //   arguments\n    // - these messages are reported before Puppeteer clients can subscribe\n    //   to the 'console'\n    //   page event.\n    //\n    // @see https://github.com/puppeteer/puppeteer/issues/3865\n    return;\n  }\n  const context = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").getExecutionContextById(event.executionContextId, __classPrivateFieldGet(this, _CDPPage_client, \"f\"));\n  if (!context) {\n    debugError(new Error(`ExecutionContext not found for a console message: ${JSON.stringify(event)}`));\n    return;\n  }\n  const values = event.args.map(arg => {\n    return createJSHandle(context, arg);\n  });\n  __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_addConsoleMessage).call(this, event.type, values, event.stackTrace);\n}, _CDPPage_onBindingCalled = async function _CDPPage_onBindingCalled(event) {\n  let payload;\n  try {\n    payload = JSON.parse(event.payload);\n  } catch {\n    // The binding was either called by something in the page or it was\n    // called before our wrapper was initialized.\n    return;\n  }\n  const {\n    type,\n    name,\n    seq,\n    args,\n    isTrivial\n  } = payload;\n  if (type !== 'exposedFun') {\n    return;\n  }\n  const context = __classPrivateFieldGet(this, _CDPPage_frameManager, \"f\").executionContextById(event.executionContextId, __classPrivateFieldGet(this, _CDPPage_client, \"f\"));\n  if (!context) {\n    return;\n  }\n  const binding = __classPrivateFieldGet(this, _CDPPage_bindings, \"f\").get(name);\n  await (binding === null || binding === void 0 ? void 0 : binding.run(context, seq, args, isTrivial));\n}, _CDPPage_addConsoleMessage = function _CDPPage_addConsoleMessage(eventType, args, stackTrace) {\n  if (!this.listenerCount(\"console\" /* PageEmittedEvents.Console */)) {\n    args.forEach(arg => {\n      return arg.dispose();\n    });\n    return;\n  }\n  const textTokens = [];\n  for (const arg of args) {\n    const remoteObject = arg.remoteObject();\n    if (remoteObject.objectId) {\n      textTokens.push(arg.toString());\n    } else {\n      textTokens.push(valueFromRemoteObject(remoteObject));\n    }\n  }\n  const stackTraceLocations = [];\n  if (stackTrace) {\n    for (const callFrame of stackTrace.callFrames) {\n      stackTraceLocations.push({\n        url: callFrame.url,\n        lineNumber: callFrame.lineNumber,\n        columnNumber: callFrame.columnNumber\n      });\n    }\n  }\n  const message = new ConsoleMessage(eventType, textTokens.join(' '), args, stackTraceLocations);\n  this.emit(\"console\" /* PageEmittedEvents.Console */, message);\n}, _CDPPage_onDialog = function _CDPPage_onDialog(event) {\n  let dialogType = null;\n  const validDialogTypes = new Set(['alert', 'confirm', 'prompt', 'beforeunload']);\n  if (validDialogTypes.has(event.type)) {\n    dialogType = event.type;\n  }\n  assert(dialogType, 'Unknown javascript dialog type: ' + event.type);\n  const dialog = new Dialog(__classPrivateFieldGet(this, _CDPPage_client, \"f\"), dialogType, event.message, event.defaultPrompt);\n  this.emit(\"dialog\" /* PageEmittedEvents.Dialog */, dialog);\n}, _CDPPage_resetDefaultBackgroundColor =\n/**\n * Resets default white background\n */\nasync function _CDPPage_resetDefaultBackgroundColor() {\n  await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setDefaultBackgroundColorOverride');\n}, _CDPPage_setTransparentBackgroundColor =\n/**\n * Hides default white background\n */\nasync function _CDPPage_setTransparentBackgroundColor() {\n  await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setDefaultBackgroundColorOverride', {\n    color: {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0\n    }\n  });\n}, _CDPPage_sessionClosePromise = function _CDPPage_sessionClosePromise() {\n  if (!__classPrivateFieldGet(this, _CDPPage_disconnectPromise, \"f\")) {\n    __classPrivateFieldSet(this, _CDPPage_disconnectPromise, new Promise(fulfill => {\n      return __classPrivateFieldGet(this, _CDPPage_client, \"f\").once(CDPSessionEmittedEvents.Disconnected, () => {\n        return fulfill(new Error('Target closed'));\n      });\n    }), \"f\");\n  }\n  return __classPrivateFieldGet(this, _CDPPage_disconnectPromise, \"f\");\n}, _CDPPage_go = async function _CDPPage_go(delta, options) {\n  const history = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.getNavigationHistory');\n  const entry = history.entries[history.currentIndex + delta];\n  if (!entry) {\n    return null;\n  }\n  const result = await Promise.all([this.waitForNavigation(options), __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.navigateToHistoryEntry', {\n    entryId: entry.id\n  })]);\n  return result[0];\n}, _CDPPage_screenshotTask = async function _CDPPage_screenshotTask(format) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _a, _b;\n  await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Target.activateTarget', {\n    targetId: __classPrivateFieldGet(this, _CDPPage_target, \"f\")._targetId\n  });\n  let clip = options.clip ? processClip(options.clip) : undefined;\n  let captureBeyondViewport = (_a = options.captureBeyondViewport) !== null && _a !== void 0 ? _a : true;\n  const fromSurface = options.fromSurface;\n  if (options.fullPage) {\n    // Overwrite clip for full page.\n    clip = undefined;\n    if (!captureBeyondViewport) {\n      const metrics = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.getLayoutMetrics');\n      // Fallback to `contentSize` in case of using Firefox.\n      const {\n        width,\n        height\n      } = metrics.cssContentSize || metrics.contentSize;\n      const {\n        isMobile = false,\n        deviceScaleFactor = 1,\n        isLandscape = false\n      } = __classPrivateFieldGet(this, _CDPPage_viewport, \"f\") || {};\n      const screenOrientation = isLandscape ? {\n        angle: 90,\n        type: 'landscapePrimary'\n      } : {\n        angle: 0,\n        type: 'portraitPrimary'\n      };\n      await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Emulation.setDeviceMetricsOverride', {\n        mobile: isMobile,\n        width,\n        height,\n        deviceScaleFactor,\n        screenOrientation\n      });\n    }\n  } else if (!clip) {\n    captureBeyondViewport = false;\n  }\n  const shouldSetDefaultBackground = options.omitBackground && (format === 'png' || format === 'webp');\n  if (shouldSetDefaultBackground) {\n    await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_setTransparentBackgroundColor).call(this);\n  }\n  const result = await __classPrivateFieldGet(this, _CDPPage_client, \"f\").send('Page.captureScreenshot', {\n    format,\n    quality: options.quality,\n    clip: clip && {\n      ...clip,\n      scale: (_b = clip.scale) !== null && _b !== void 0 ? _b : 1\n    },\n    captureBeyondViewport,\n    fromSurface\n  });\n  if (shouldSetDefaultBackground) {\n    await __classPrivateFieldGet(this, _CDPPage_instances, \"m\", _CDPPage_resetDefaultBackgroundColor).call(this);\n  }\n  if (options.fullPage && __classPrivateFieldGet(this, _CDPPage_viewport, \"f\")) {\n    await this.setViewport(__classPrivateFieldGet(this, _CDPPage_viewport, \"f\"));\n  }\n  const buffer = options.encoding === 'base64' ? result.data : Buffer.from(result.data, 'base64');\n  if (options.path) {\n    try {\n      const fs = (await importFS()).promises;\n      await fs.writeFile(options.path, buffer);\n    } catch (error) {\n      if (error instanceof TypeError) {\n        throw new Error('Screenshots can only be written to a file path in a Node-like environment.');\n      }\n      throw error;\n    }\n  }\n  return buffer;\n  function processClip(clip) {\n    const x = Math.round(clip.x);\n    const y = Math.round(clip.y);\n    const width = Math.round(clip.width + clip.x - x);\n    const height = Math.round(clip.height + clip.y - y);\n    return {\n      x,\n      y,\n      width,\n      height,\n      scale: clip.scale\n    };\n  }\n};\nconst supportedMetrics = new Set(['Timestamp', 'Documents', 'Frames', 'JSEventListeners', 'Nodes', 'LayoutCount', 'RecalcStyleCount', 'LayoutDuration', 'RecalcStyleDuration', 'ScriptDuration', 'TaskDuration', 'JSHeapUsedSize', 'JSHeapTotalSize']);\nconst unitToPixels = {\n  px: 1,\n  in: 96,\n  cm: 37.8,\n  mm: 3.78\n};\nfunction convertPrintParameterToInches(parameter) {\n  if (typeof parameter === 'undefined') {\n    return undefined;\n  }\n  let pixels;\n  if (isNumber(parameter)) {\n    // Treat numbers as pixel values to be aligned with phantom's paperSize.\n    pixels = parameter;\n  } else if (isString(parameter)) {\n    const text = parameter;\n    let unit = text.substring(text.length - 2).toLowerCase();\n    let valueText = '';\n    if (unit in unitToPixels) {\n      valueText = text.substring(0, text.length - 2);\n    } else {\n      // In case of unknown unit try to parse the whole parameter as number of pixels.\n      // This is consistent with phantom's paperSize behavior.\n      unit = 'px';\n      valueText = text;\n    }\n    const value = Number(valueText);\n    assert(!isNaN(value), 'Failed to parse parameter value: ' + text);\n    pixels = value * unitToPixels[unit];\n  } else {\n    throw new Error('page.pdf() Cannot handle parameter type: ' + typeof parameter);\n  }\n  return pixels / 96;\n}","map":{"version":3,"names":["Page","assert","createDeferredPromise","isErrorLike","Accessibility","Binding","CDPSessionEmittedEvents","isTargetClosedError","ConsoleMessage","Coverage","Dialog","EmulationManager","FileChooser","FrameManager","FrameManagerEmittedEvents","Keyboard","Mouse","Touchscreen","MAIN_WORLD","NetworkManagerEmittedEvents","_paperFormats","TimeoutSettings","Tracing","createJSHandle","debugError","evaluationString","getExceptionMessage","getReadableAsBuffer","getReadableFromProtocolStream","importFS","isNumber","isString","pageBindingInitString","releaseObject","valueFromRemoteObject","waitForEvent","waitWithTimeout","WebWorker","CDPPage","_create","client","target","ignoreHTTPSErrors","defaultViewport","screenshotTaskQueue","page","__classPrivateFieldGet","_CDPPage_instances","_CDPPage_initialize","call","setViewport","err","constructor","_CDPPage_closed","set","_CDPPage_client","_CDPPage_target","_CDPPage_keyboard","_CDPPage_mouse","_CDPPage_timeoutSettings","_CDPPage_touchscreen","_CDPPage_accessibility","_CDPPage_frameManager","_CDPPage_emulationManager","_CDPPage_tracing","_CDPPage_bindings","Map","_CDPPage_coverage","_CDPPage_javascriptEnabled","_CDPPage_viewport","_CDPPage_screenshotTaskQueue","_CDPPage_workers","_CDPPage_fileChooserPromises","Set","_CDPPage_disconnectPromise","_CDPPage_userDragInterceptionEnabled","_CDPPage_onDetachedFromTarget","sessionId","_a","_session","id","worker","get","delete","emit","_CDPPage_onAttachedToTarget","createdTarget","onAttachedToTarget","_getTargetInfo","type","session","url","_CDPPage_addConsoleMessage","bind","_CDPPage_handleException","_targetManager","addTargetInterceptor","__classPrivateFieldSet","on","FrameAttached","event","FrameDetached","FrameNavigated","networkManager","Request","RequestServedFromCache","Response","RequestFailed","RequestFinished","_CDPPage_onConsoleAPI","_CDPPage_onBindingCalled","_CDPPage_onDialog","exception","exceptionDetails","_CDPPage_onTargetCrashed","_CDPPage_emitMetrics","_CDPPage_onLogEntryAdded","_CDPPage_onFileChooser","_isClosedPromise","then","removeTargetInterceptor","off","_client","isDragInterceptionEnabled","isJavaScriptEnabled","waitForFileChooser","options","arguments","length","undefined","needsEnable","size","timeout","promise","message","add","enablePromise","send","enabled","Promise","all","_ref","result","catch","error","setGeolocation","longitude","latitude","accuracy","Error","browser","browserContext","mainFrame","keyboard","touchscreen","coverage","tracing","accessibility","frames","workers","Array","from","values","setRequestInterception","value","setDragInterception","setOfflineMode","emulateNetworkConditions","networkConditions","setDefaultNavigationTimeout","setDefaultTimeout","getDefaultTimeout","$","selector","$$","evaluateHandle","pageFunction","context","executionContext","_len","args","_key","queryObjects","prototypeHandle","disposed","response","prototypeObjectId","objects","$eval","_len2","_key2","$$eval","_len3","_key3","$x","expression","cookies","_len4","urls","_key4","originalCookies","unsupportedCookieAttributes","filterUnsupportedAttributes","cookie","attr","map","deleteCookie","pageURL","_len5","_key5","item","Object","assign","startsWith","setCookie","startsWithHTTP","_len6","_key6","items","name","String","prototype","addScriptTag","addStyleTag","exposeFunction","pptrFunction","has","binding","default","source","frame","evaluate","authenticate","credentials","setExtraHTTPHeaders","headers","setUserAgent","userAgent","userAgentMetadata","metrics","_CDPPage_buildMetricsObject","content","setContent","html","goto","reload","waitForNavigation","waitForRequest","urlOrPredicate","request","_CDPPage_sessionClosePromise","waitForResponse","waitForNetworkIdle","idleTime","idlePromise","abortRejectCallback","abortPromise","_","reject","idleTimer","cleanup","clearTimeout","numRequestsInProgress","setTimeout","resolve","eventHandler","listenToEvent","eventPromises","race","r","waitForFrame","predicate","eventRace","goBack","_CDPPage_go","goForward","bringToFront","setJavaScriptEnabled","setBypassCSP","emulateMediaType","media","emulateCPUThrottling","factor","rate","emulateMediaFeatures","features","isArray","mediaFeature","test","emulateTimezone","timezoneId","includes","emulateIdleState","overrides","isUserActive","isScreenUnlocked","emulateVisionDeficiency","visionDeficiencies","viewport","needsReload","emulateViewport","_len7","_key7","evaluateOnNewDocument","_len8","_key8","setCacheEnabled","screenshot","screenshotType","path","filePath","extension","slice","lastIndexOf","toLowerCase","quality","Number","isInteger","clip","fullPage","x","y","width","height","postTask","_CDPPage_screenshotTask","createPDFStream","scale","displayHeaderFooter","headerTemplate","footerTemplate","printBackground","landscape","pageRanges","preferCSSPageSize","margin","omitBackground","paperWidth","paperHeight","format","convertPrintParameterToInches","marginTop","top","marginLeft","left","marginBottom","bottom","marginRight","right","_CDPPage_setTransparentBackgroundColor","printCommandPromise","transferMode","_CDPPage_resetDefaultBackgroundColor","stream","pdf","readable","buffer","title","close","runBeforeUnload","connection","targetId","_targetId","isClosed","mouse","click","focus","hover","select","_len9","_key9","tap","text","waitForTimeout","milliseconds","waitForSelector","waitForXPath","xpath","waitForFunction","_len10","_key10","waitForDevicePrompt","initialize","frameId","handle","worlds","adoptBackendNode","backendNodeId","fileChooser","clear","level","lineNumber","entry","arg","metric","supportedMetrics","stack","executionContextId","getExecutionContextById","JSON","stringify","stackTrace","payload","parse","seq","isTrivial","executionContextById","run","eventType","listenerCount","forEach","dispose","textTokens","remoteObject","objectId","push","toString","stackTraceLocations","callFrame","callFrames","columnNumber","join","dialogType","validDialogTypes","dialog","defaultPrompt","color","g","b","a","fulfill","once","Disconnected","delta","history","entries","currentIndex","entryId","processClip","captureBeyondViewport","fromSurface","cssContentSize","contentSize","isMobile","deviceScaleFactor","isLandscape","screenOrientation","angle","mobile","shouldSetDefaultBackground","_b","encoding","data","Buffer","fs","promises","writeFile","TypeError","Math","round","unitToPixels","px","in","cm","mm","parameter","pixels","unit","substring","valueText","isNaN"],"sources":["../../../../src/common/Page.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}